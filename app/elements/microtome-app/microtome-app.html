<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymer-ts/polymer-ts.html">

<link rel="import" href="../../bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="../../bower_components/paper-menu/paper-menu.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/iron-flex-layout/classes/iron-flex-layout.html">

<link rel="import" href="../slice-preview/slice-preview.html">
<link rel="import" href="../pv-view/pv-view.html">
<link rel="import" href="../layer-height/layer-height.html">

<link rel="import" href="../threejs/threejs.html">


<dom-module id="microtome-app">

  <style>
    :host #center-content,
    :host #left-content,
    :host #right-content {
      position: relative;
    }
    /*Why is this needed? Can't find overflow cause*/
    :host #main{
      overflow: hidden;
    }
  </style>

  <template>
    <paper-header-panel mode="seamed" class="layout vertical fit">
      <paper-toolbar class="paper-header">
        <paper-menu-button>
          <paper-icon-button icon="menu" class="dropdown-trigger"></paper-icon-button>
          <paper-menu class="dropdown-content" class="vertical layout" on-iron-select="onMenuActivate">
            <paper-item>New Project</paper-item>
            <paper-item>Save Project</paper-item>
            <paper-item>Help</paper-item>
          </paper-menu>
        </paper-menu-button>
        <div class="title">Microtome</div>
      </paper-toolbar>
      <div id="main" class="flex layout horizontal fit">
        <div id="left-drawer">LEFT</div>
        <div id="center-content" class="flex layout vertical">
          <pv-view hidden$="{{!hideSlicePreview}}" class="fit" scene="[[scene]]"></pv-view>
          <slice-preview hidden$="{{hideSlicePreview}}" class="fit" scene="[[scene]]"></slice-preview>
          <!-- <layer-height></layer-height> -->
        </div>
        <div id="right-drawer">RIGHT </div>
      </div>
    </paper-header-panel>
  </template>
</dom-module>
<script src="microtome-app.js"></script>
